{% extends 'index.html' %}

{% block a %} 
<li><a href="{{ url_for('index') }}#hero" class="active">Home</a></li>
<li><a href="{{ url_for('index') }}#about">About</a></li>
<li><a href="{{ url_for('index') }}#team">Team</a></li>
<li><a href="{{ url_for('index') }}#contact">Contact</a></li>
{% endblock %}

{% block body %}
<br><br><br>
<div class="container">
    <br><br>
    <p class="text-right"><a href="{{ url_for('add_user') }}" class="btn btn-success"><b>+ Add User</b></a></p>

    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>SNo</th>
                <th>CNAME</th>
                <th>COUNTRY</th>
                <th>YEAR</th>
                <th>SALES</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.SNo }}</td>
                <td>{{ user.CNAME }}</td>
                <td>{{ user.COUNTRY }}</td>
                <td>{{ user.YEAR }}</td>
                <td>{{ user.SALES }}</td>
                <td><a href="{{ url_for('edit_user', sno=user.SNo) }}" class="btn btn-primary">Edit</a></td>
                <td>
                    <a href="{{ url_for('delete_user', sno=user.SNo) }}" class="btn btn-danger" 
                       onclick="return confirm('Are you sure you want to delete this user?')">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawVisualization);

      function drawVisualization() {
        // EV Sales data in India (Fiscal Year)
        var data = google.visualization.arrayToDataTable([
          ['Fiscal Year', 'EV Sales'],
          ['FY 14-15', 16000],
          ['FY 15-16', 22000],
          ['FY 16-17', 25000],
          ['FY 17-18', 56000],
          ['FY 18-19', 130000],
          ['FY 19-20', 172696],
          ['FY 20-21', 141228],
          ['FY 21-22', 445001],
          ['FY 22-23', 1179419],
          ['FY 23-24', 1670736]
        ]);

        var options = {
          title: 'Electric Vehicle Sales in India (Past 10 Fiscal Years)',
          vAxis: {title: 'Number of EVs Sold'},
          hAxis: {title: 'Fiscal Year'},
          seriesType: 'bars',
          colors: ['#76A7FA']
        };

        var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
  </body>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}
